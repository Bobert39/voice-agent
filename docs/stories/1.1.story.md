# Story 1.1: Project Setup and Repository Structure

## Status
Draft

## Story
**As a** developer,  
**I want** to create the monorepo structure with separate packages for each microservice,  
**so that** I can develop, test, and deploy services independently while maintaining code organization.

## Acceptance Criteria
1. Create monorepo with packages for voice-ai-service, scheduling-service, patient-verification-service, audit-service, and admin-dashboard
2. Configure TypeScript with shared configurations and build scripts for all packages
3. Set up package.json with workspace configuration and shared dependencies
4. Implement basic Express.js setup for each service with health-check endpoints
5. Configure development environment with concurrent service startup scripts
6. Create basic README with development setup instructions and service architecture overview

## Tasks / Subtasks
- [ ] Initialize monorepo structure (AC: 1)
  - [ ] Create root directory with package.json configured for workspaces
  - [ ] Create packages/ directory for all microservices
  - [ ] Create directory structure for each service: voice-ai-service, scheduling-service, patient-verification-service, audit-service, admin-dashboard
  - [ ] Add .gitignore for Node.js/TypeScript projects

- [ ] Configure TypeScript environment (AC: 2)
  - [ ] Create root tsconfig.json with base TypeScript configuration (target: ES2022, module: commonjs, strict: true)
  - [ ] Create tsconfig.base.json for shared compiler options
  - [ ] Create individual tsconfig.json in each service package extending base config
  - [ ] Configure build scripts in root package.json for all services

- [ ] Set up workspace configuration (AC: 3)
  - [ ] Configure npm/yarn workspaces in root package.json
  - [ ] Install shared dependencies at root level: TypeScript 5.3.3, Node.js types, ESLint 8.56.0, Prettier 3.1.1
  - [ ] Create shared utilities package for common code
  - [ ] Configure Husky 8.0.3 for pre-commit hooks

- [ ] Implement Express.js services (AC: 4)
  - [ ] Install Express.js 4.18.2 and related dependencies for each service
  - [ ] Create basic server.ts file for each service with Express setup
  - [ ] Implement health-check endpoint (GET /health) returning service status
  - [ ] Configure Helmet 7.1.0 for security headers in each service
  - [ ] Set up Winston 3.11.0 logging for HIPAA audit compliance

- [ ] Configure development environment (AC: 5)
  - [ ] Create development scripts using nodemon 3.0.2 and ts-node 10.9.2
  - [ ] Set up concurrent service startup using npm scripts or concurrently package
  - [ ] Create .env.example files for each service with required environment variables
  - [ ] Configure VS Code workspace settings for monorepo development

- [ ] Create documentation (AC: 6)
  - [ ] Create root README.md with project overview and quick start guide
  - [ ] Document service architecture and communication patterns
  - [ ] Add development setup instructions including Node.js 20.11.0 LTS requirement
  - [ ] Include service port assignments and API documentation links

- [ ] Implement unit tests setup
  - [ ] Install Jest 29.7.0 and ts-jest for testing framework
  - [ ] Create jest.config.js for each service
  - [ ] Write basic unit tests for health-check endpoints
  - [ ] Ensure test coverage reporting is configured

## Dev Notes

### Testing Standards
[Source: architecture/test-strategy-and-standards.md]
- Healthcare-focused test pyramid with 85% unit test coverage requirement
- Use Jest 29.7.0 for unit testing
- Test file location: Each service should have a `__tests__` directory
- All tests must include HIPAA compliance validation
- Basic test structure should validate health endpoints return proper status

### Technology Stack Requirements
[Source: architecture/tech-stack.md]
- **Language**: TypeScript 5.3.3
- **Runtime**: Node.js 20.11.0 LTS
- **Framework**: Express.js 4.18.2
- **Testing**: Jest 29.7.0
- **Logging**: Winston 3.11.0 (HIPAA audit logging)
- **Security**: Helmet 7.1.0 (Express security headers)
- **Code Quality**: ESLint 8.56.0, Prettier 3.1.1
- **Git Hooks**: Husky 8.0.3
- **Local Dev**: nodemon 3.0.2, ts-node 10.9.2

### Repository Structure
[Source: architecture/high-level-architecture.md#repository-structure]
- **Monorepo** structure as specified in PRD
- Single repository with packages/ directory for all microservices
- Shared TypeScript configurations and common utilities
- Simplified dependency management for single developer

### Microservices to Create
[Source: architecture/high-level-architecture.md#service-architecture]
1. **Voice Processing Service** - speech-to-text, NLP, text-to-speech
2. **Appointment Scheduling Service** - OpenEMR integration
3. **Patient Verification Service** - identity validation
4. **Audit Logging Service** - HIPAA compliance
5. **Staff Notification Service** - escalation handling

### Additional Project Structure Notes
[Source: architecture/source-tree.md]
- Project follows a monorepo structure with microservices organized under packages/
- Includes shared utilities, infrastructure as code, and comprehensive testing frameworks
- Structure supports single developer efficiency while providing scalability

### HIPAA Compliance Requirements
[Source: architecture/coding-standards.md]
- Comprehensive audit logging required for all services
- PII encryption mandatory
- Standardized error handling
- Security validation for all patient interactions

### Important Configuration Notes
- Each service needs its own port assignment (document in README)
- Environment variables should never contain actual secrets in .env.example
- All services must implement circuit breaker pattern for external service calls
- Use AWS CDK for Infrastructure as Code (to be implemented in later stories)

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2024-01-11 | 1.0 | Initial story creation | Scrum Master |

## Dev Agent Record

### Agent Model Used


### Debug Log References


### Completion Notes List


### File List


## QA Results